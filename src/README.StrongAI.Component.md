<!-- Generated by StrongAIAutoDoc 20260219 -->

AssistantCommon provides lightweight, dependency-free building blocks for correctness and safety in the StrongAI Assistant. Asserts.ts offers type-safe runtime guards and standardized, auto-logging error classes to enforce contracts and aid debugging. Sanitize.ts cleans user input and scrubs output, removing control characters, stripping tags, and masking emails, cards, and phone numbers. index.ts exposes a single import surface by re-exporting both modules, encouraging consistent usage across the codebase. The package depends only on the JavaScript runtime (Error for stack traces, console for logging, and RegExp for sanitization), forming a cohesive, reusable core with minimal external coupling.

```mermaid
C4Component
title AssistantCommon (TypeScript) - Components and Dependencies

Container_Boundary(pkg, "assistant-common (dir)", "TypeScript Package") {
  Component(asserts, "Asserts.ts", "TS module", "Type-safe assertions and logged error classes")
  Component(sanitize, "Sanitize.ts", "TS module", "Input/output sanitizers using RegExp")
  Component(index, "index.ts", "Facade module", "Re-exports assertions, errors, sanitizers")
}

Person_Ext(consumers, "Client Modules", "Other StrongAI Assistant code")
System_Ext(runtime, "JavaScript Runtime & Console", "Error, console, RegExp")

Rel(consumers, index, "imports / depends on")
Rel(index, asserts, "re-exports from")
Rel(index, sanitize, "re-exports from")
Rel(asserts, runtime, "uses Error + console for stack/logging")
Rel(sanitize, runtime, "uses RegExp for cleansing/masking")
```

Key components:
- Asserts.ts: Provides throwIfUndefined, throwIfNull, and throwIfFalse with TypeScript assert signatures. Defines LoggedError and specialized errors (InvalidParameterError, InvalidOperationError, ConnectionError, InvalidStateError) that standardize naming, capture V8 stacks, and log on construction.
- Sanitize.ts: sanitizeInputString normalizes and cleans raw user input. sanitizeOutputString strips tags, removes control chars (optionally preserving line feeds), and masks sensitive patterns (emails, 16â€“19 digit cards, US/UK-style phones).
- index.ts: Facade that centralizes imports, ensuring callers rely on one stable surface.
- External runtime: Error, console, and RegExp power stack traces, logging, and pattern-based cleansing.